!function(a){a.fn.extend({elastic:function(){var b=["paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","fontSize","lineHeight","fontFamily","width","fontWeight","border-top-width","border-right-width","border-bottom-width","border-left-width","borderTopStyle","borderTopColor","borderRightStyle","borderRightColor","borderBottomStyle","borderBottomColor","borderLeftStyle","borderLeftColor","box-sizing","-moz-box-sizing","-webkit-box-sizing"];return this.each(function(){function c(){curatedWidth=Math.floor(parseInt(f.width(),10)),g.width()!==curatedWidth&&(g.css({width:curatedWidth+"px"}),e(!0))}function d(a,b){var c=Math.floor(parseInt(a,10));f.height()!==c&&(f.css({height:c+"px",overflow:b}),f.triggerHandler("resize"))}function e(a){var b=f.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),c=g.html().replace(/<br>/gi,"<br />");if((a||b+"&nbsp;"!==c)&&(g.html(b+"&nbsp;"),Math.abs(g.outerHeight()+h-f.outerHeight())>3)){var e=g.outerHeight();e>=j?d(j,"auto"):i>=e?d(i,"hidden"):d(e,"hidden")}}if("textarea"!==this.type)return!1;var f=a(this),g=a("<div />").css({position:"absolute",display:"none","word-wrap":"break-word"}),h=parseInt(f.css("line-height"),10)||parseInt(f.css("font-size"),"10"),i=parseInt(f.css("height"),10)||3*h,j=parseInt(f.css("max-height"),10)||Number.MAX_VALUE;0>j&&(j=Number.MAX_VALUE),g.appendTo(f.parent());for(var k=b.length;k--;)"width"===b[k].toString()&&"0px"===f.css(b[k].toString())?c():g.css(b[k].toString(),f.css(b[k].toString()));e(!0),f.bind("input",e),f.bind("change",e),$(window).bind("resize",c)})}})}(jQuery);